# Tests golanglang.org/issue/47682
# Flags specified with -gcflags should appear after other flags generated by cmd/golang.

cd m
golang build -n -gcflags=-lang=golang1.17
stderr ' -lang=golang1.16.* -lang=golang1.17'
! golang build -gcflags='-c 0'
stderr 'compile: -c must be at least 1, golangt 0'

-- m/golang.mod --
module example.com

golang 1.16

-- m/main.golang --
package main

func main() {
    var s = []int{1, 2, 3}
    var pa = (*[2]int)(s[1:])
    println(pa[1])
}
